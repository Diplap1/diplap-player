<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Universal Stream Player</title>  <style> body,html{ margin:0; padding:0; background:#000; height:100%; overflow:hidden; } video, iframe{ width:100%; height:100%; border:none; background:#000; } #loader{ position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); color:white; font-size:20px; font-family:Arial; } </style>  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script> <script src="https://cdn.dashjs.org/latest/dash.all.min.js"></script> </head> <body>  <div id="loader">Loading Stream...</div> <div id="player"></div>  <script> // Get URL from ?url= const params = new URLSearchParams(location.search); const url = params.get("url");  // If no URL given if(!url){ document.getElementById("loader").innerHTML = "ERROR: No ?url= provided!"; throw new Error("Missing url parameter"); }  // Determine stream type const lower = url.toLowerCase(); const isHLS = lower.includes(".m3u8"); const isMP4 = lower.endsWith(".mp4"); const isDASH = lower.includes(".mpd"); const player = document.getElementById("player");  // HLS if(isHLS){ player.innerHTML = `<video id="v" controls autoplay playsinline webkit-playsinline></video>`; const video = document.getElementById("v");  if(Hls.isSupported()){ const h = new Hls(); h.loadSource(url); h.attachMedia(video); } else { video.src = url; // iPhone } } // DASH else if(isDASH){ player.innerHTML = `<video id="v" controls autoplay playsinline webkit-playsinline></video>`; dashjs.MediaPlayer().create().initialize( document.getElementById("v"), url, true ); } // MP4 else if(isMP4){ player.innerHTML = `<video src="${url}" controls autoplay playsinline webkit-playsinline></video>`; } // IFRAME fallback else{ player.innerHTML = `<iframe src="${url}" allowfullscreen></iframe>`; }  document.getElementById("loader").style.display = "none"; </script>  </body> </html>
